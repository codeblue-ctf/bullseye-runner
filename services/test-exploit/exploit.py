import socket
import sys
import random

CHAL = ("challenge", 8080)
FLAG = ("flag-submit", 1337)

s = socket.socket()
s.connect(CHAL)
flag = b""
while True:
    r = s.recv(1)
    if r == b"":
        break
    flag += r
s.close()

if random.randint(0, 6) % 3 == 0:
    s = socket.socket()
    s.connect(FLAG)
    s.send(flag)
    s.close()
